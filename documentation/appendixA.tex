% EXAMPLE: Sections and Paragraphs
% \section		- Level 1
% \subsection		- Level 2
% \subsubsection	- Level 3
% \paragraph		- Level 4
% \subparagraph		- Level 5 
% \section{<NAME_OF_SECTION>}

% EXAMPLE: Include graphics 
% \includegraphics[width=130mm,height=108mm]{intro4.png}

% EXAMPLE: Nested list
%\begin{enumerate}
%\item Nested list
%\begin{enumerate}
%\item
%\item
%\item
%\item
%\item
%\end{enumerate}
%\end{enumerate}

\section{Appendix A - How to build upon our codebase}
This appendix include information on how to build upon our codebase for the Mulle (C), server code (Python, PHP/HTML5 and C) and Android Mobile phone (Java).
\subsection{Mulle}
\subsection{Server}
\subsubsection{Coapy server}
\paragraph{Existing implementation}
The server is based on CoAPy, which is a python implementation of the CoAP protocol. The actual server implementation is a modification of the example server provided along with CoAPy.
Some minor changes were made to it allowing it to accept all forms of CoAP messages, provided they are taken care of properly. We also added a way for new services to be easily added 
and used. 

The procedure when adding new services is as follows:
\being{enumerate}
\item Create a new .py file with the name corresponding to the actual service name (e.g. "TestService.py") in the "services" directory
\item The file should contain only the necessary imports (including CoAPy parts) along with a class name the same thing as the file ("TestService", in this case)
\item The class is to define a single function "process" in which the actual actions of the service are to be made
\end{enumerate}

Using an existing service, like "CounterService.py", is highly recommended for understanding how a service should be structured and laid out.

\paragraph{Further development}
The server itself should be set to add new services to for operation. What needs more work is the incorporation of a few things:

\being{enumerate}
\item An actual XML scheme for configuration of mulle nodes. This point is not particular to the server, however.
\item Implement ways for the server to make use of the EXIP application to translate the XML that's to be sent into EXI via the command line.
\item Make services corresponding to the functionality you would like to have for configuration and communication with mulles and android devices, respectively.
\end{enumerate}
\subsubsection{Webpages and database}
 
The webpages and database consists of Apache2 which is an web server, MySQL which is a database management system and PHP which is a language for producing dynamic webpages.
LAMP (Linux), WAMP (Windows) or MAMP (Mac) can be used to build a web server it is an web-platform that consists of Apache, MySQL and PHP.

\paragraph{Webpages}

The webpages are built up using mulleheader.php which contains the header and sidebar, a .php file containing page content and mullefooter.php which contains the footer.

We have built two webpages using this concept; One that shows information from the database and its .php file that hols page content is mulledatabase.php and one consists of 
a php form to turn on or off a lamp and its .php file that hols page content is mullebuttons.php. The mullebuttons.php also contains a call to a .py file called testsender.py
that with some work can run a service on the CoAP server.


How to create a new webpage:

1. 	Creat a new .php file for page content

2. 	In the top of the .php file print: <? php include("mulleheader.php"); ?>

3. 	Between < section id ="main" > and < /section > write the page content

4. 	In the bottom of the .php file print <? php include("mullefooter.php"); ?>

\paragraph{Database}

We created a MySQL database and named it mulle and to this database we added two tables one that keeps track of communication on server and one that keeps track of connected/active 
devices. Online you can find many guides on how to add to a LAMP, WAMP or MAPM MySQL database, but down below shows some commands good to know when creating a database.  


How to create a new database:

1. 	Open up your MySQL Console and login

2. 	mysql> SHOW DATABASES;

3. 	mysql> CREATE DATABASE the_database_name;

4. 	mysql> USE the_database_name

5. 	CREATE TABLE name_of_table (name_first_column_in_table VARCHAR(20), name_second_column_in_table VARCHAR(20), name_date_and_time DATETIME);  
	This creates a table with three columns.
	
6. 	SHOW TABLES;

7. 	EXPLAIN name_of_table;

\subsection{Android Mobile Phone application}

